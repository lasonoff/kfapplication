FROM openjdk:18-jdk-alpine

ARG MAIL_SENDER_USERNAME user
ENV MAIL_SENDER_USERNAME ${MAIL_SENDER_USERNAME}

ARG MAIL_SENDER_PASSWORD password
ENV MAIL_SENDER_PASSWORD ${MAIL_SENDER_PASSWORD}

ARG KAFKA_SERVER localhost:9092
ENV KAFKA_SERVER ${KAFKA_SERVER}

ARG JAR_FILE=target/kfmailsender.jar

ADD ${JAR_FILE} app.jar

ENTRYPOINT ["java","-jar","/app.jar"]